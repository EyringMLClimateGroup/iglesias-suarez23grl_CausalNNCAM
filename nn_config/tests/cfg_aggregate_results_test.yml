# pipeline
# cfg_aggregate_results_test.yml
---
documentation:
  description: Options (specifications) for the "aggregate_results_test" script.

  authors:
    - solino-fernandez_breixo
    - iglesias-suarez_fernando

  maintainer:
    - solino-fernandez_breixo
    - iglesias-suarez_fernando

  references:
    - acknow_project

  projects:
    - usmile


# Common
# ======
# Specifications
analysis       : 'single' # 'single': gridpoints individually; 
                          # 'concat': gridpoints contatenated into a 
                          #           single time-series;
# Rasp et at.: ['tbp','qbp','vbp','ps','solin','shflx','lhflx'] 
# Tom (ClInv): ['rh','bmse','ps','solin','shflx','lhf_nsdelq']
spcam_parents  : ['tbp','qbp','vbp','ps','solin','shflx','lhflx']
# spcam_children : ['tphystnd','phq','fsns','flns','fsnt','flnt','prect']
spcam_children : ['tphystnd','phq']
# spcam_children : ['prect']
independence_test : "parcorr"
pc_alphas      : [0.001,0.01,0.1] # [0.001,0.01,0.1]
region         : [ [-90,90] , [0.,60.] ] # [ [-90,90] , [0.,359.] ] # Lons: 120, 118
lim_levels     : False
# Model levels : [3.643, 7.595, 14.357, 24.612, 38.268, 54.595, 72.012, 87.821, 103.317, 121.547, 142.994, 168.225, 197.908, 232.829, 273.911, 322.242, 379.101, 445.993, 524.687, 609.779, 691.389, 763.404, 820.858, 859.535, 887.020, 912.645, 936.198, 957.485, 976.325, 992.556]
target_levels  : False # [197.908, 524.687, 763.404, 887.020, 992.556] # False # [524.687]
# Rasp. GB: "./SPCAM_Rasp_causal_links_1yr"; TB: "./SPCAM_Rasp_causal_links_3mth"
# ClInv. TB: "./SPCAM_ClInv_causal_links_3mth"
output_folder  : "./SPCAM_Rasp_causal_links_3mth"
# plots_folder   : "./causal_links_tb/plots"
# plots_folder   : "./plots_causal_links_tb_by_region"
plots_folder   : "./plots_causal_metrics/SPCAM_Rasp_causal_links_3mth"
verbosity      : 2
output_file_pattern :
  single: "{var_name}_{level}_lat-{lat}_lon-{lon}_{ind_test}_{experiment}.obj"
  concat: "{var_name}_{level}_{lat1}-{lat2}_{lon1}-{lon2}_{ind_test}_{experiment}.obj"
## DATASETS. 
# Gunnar's: SPCAM_gb_recons; Tom's: SPCAM_tb_recons
data_folder: "/work/bd1179/b309172/data/SPCAM_tb_recons"
# Gunnar's: 002_train_1_year
# Tom's. Rasp: 2021_09_02_TRAIN_For_Nando; 
#       ClInv: 2021_09_03_TRAIN_For_Nando_ClInv
# experiment:  "002_train_1_year"
experiment:  "2021_09_02_TRAIN_For_Nando"


# Aggregated analysis
# ===================
thresholds : [.01,.05,.1,.15,.2,.3,.4,.5] # [.2,.15] # [.15, .2, .25]
area_weighted : True # True; False
plot_file_pattern : 
  single: "{var_name}_{level}_lat{lat}_lon{lon}_a{pc_alpha}_{ind_test}_{experiment}.png"
  concat: "{var_name}_{level}_{lat1}-{lat2}_{lon1}-{lon2}_a{pc_alpha}_{ind_test}_{experiment}.png"